<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
<meta name=viewport content="width=device-width, initial-scale=1, user-scalable=0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/style.css" media="only screen and (min-width:800px)">
<title>My Social Network</title>

</head>
<body>
<div class="page-hdr">회원가입</div>
<div class="section phor-24 bg-eee">

<input id="uid" class="form-txt mtop-30" type="text" placeholder="아이디">
<input id="uname" class="form-txt mtop-10" type="text" placeholder="이름">
<input id="upass" class="form-txt mtop-10" type="password" placeholder="패스워드">
<input id="upass2" class="form-txt mtop-10" type="password" placeholder="패스워드 확인">
<div class="form-submit mtop-30" onclick="signup()">이곳저곳에 가입합니다. </div>
<div class="section mbot-30"></div>

</div>
<div class="page-footer">이곳저곳 2017</div>
</body>
</html>

<script src="js/jquery-1.12.0.min.js"></script>
<script src="js/core.js"> </script>
<script type="text/javascript">

$(document).ready(function() {
});

function signup(){
	if (checkInput() == false) return;
	
	// sign up logic...
	//var elem = document.getElementById("uid");
	var params = "uid=" + $("#uid").val() +
	             "&uname=" + $("#uname").val() +
	             "&upass=" + $("#upass").val();
	AJAX.call("jsp/signup.jsp", params, function(data) {
		var code =data.trim();
		if (code == "EX") {
			alert("이미 가입된 아이디입니다.");
		}
		
		else {
			alert("회원 가입이 완료되었습니다.");
			window.location.href = "index.html";
		} 
	});
   }

function checkInput(){
   var uid = $("#uid").val();
   if (uid==""){
      alert("아이디를 입력하세요.");
      return false;
   }
   var uname = $("#uname").val();
   if (uname==""){
      alert("이름을 입력하세요.");
      return false;
   }
   var upass = $("#upass").val();
   if (upass==""){
      alert("패스워드를 입력하세요.");
      return false;
   }
   var upass2 = $("#upass2").val();
   if (upass2==""){
      alert("비밀번호를 확인해주세요.");
      return true;
   }
}
</script>